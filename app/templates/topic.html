{% extends "base.html" %}

{% block title %}
    <title>Topic: {{name}}</title>
{% endblock %}

{% block content %}
<h1>{{name}}</h1>

{% for message in topic_messages %}
<div class="t_message_body">
    <div class="t_message_info">posted by <a class="t_author" href="{{url_for('user_profile', user_id=message.author.id)}}">{{message.author.login}}</a>, {{message.date.strftime('%H:%M, %d %b %Y')}}</div>
    <div class="t_message_delete"><a class="t_delete" href="{{url_for('delete_message', message_id=message.id)}}">Delete</a></div>
    <hr>
    <div class="t_message_text">{{message.text}}</div>
</div>
{% endfor %}

<hr>

{% if user.is_authenticated() %}
<form action="" method="post" name="edit" onsubmit="return ValidatePostingForm()">
    {{add_message.message(placeholder='Enter your text here', class="f_t_form_message", onkeyup="ValidateInput(this)")}}
    <input class="submit_button" type="submit" value="send">
</form>
{% endif %}


{% endblock %}